<!DOCTYPE html>
<html>

<head>
    <title>README.md</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    
<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

html,footer,header{
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Custom MD PDF CSS
 */
html,footer,header{
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";

 }
body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>
<link rel="stylesheet" href="file:///r%3A/2.Travail/1.Enseignement/Cours/_1.Outils/2.Developpement/1.SCSS/main.css" type="text/css"><link rel="stylesheet" href="file:///d%3A/rdaros/Cours/_1.Outils/2.Developpement/1.SCSS/main.css" type="text/css">
</head>

<body>
    <h1 id="%F0%9F%8C%90-modern-webapp-med-bastionhost-reverse-proxy-och-automatiserad-cicd">üåê Modern Webapp med Bastionhost, Reverse Proxy och Automatiserad CI/CD</h1>
<p>Detta √§r en enkel men robust webbapplikation som inkluderar ett kontaktformul√§r f√∂r anv√§ndarinteraktion. Applikationen √§r hostad p√• en Ubuntu-baserad virtuell server i Azure och skyddas av en bastionhost f√∂r s√§ker fj√§rr√•tkomst. En reverse proxy anv√§nds f√∂r att hantera och dirigera inkommande trafik, vilket f√∂rb√§ttrar b√•de prestanda och s√§kerhet. Data fr√•n kontaktformul√§ret lagras tryggt i Azure Blob Storage.</p>
<p>Infrastrukturen bygger p√• flera virtuella servrar: en bastionhost som m√∂jligg√∂r s√§ker administration, en reverse proxy som fungerar som trafikhanterare, samt applikationsservern d√§r webbapplikationen k√∂rs. Denna arkitektur s√§kerst√§ller en v√§lstrukturerad och s√§ker driftmilj√∂.</p>
<p><a href="https://wavvy.se">https://wavvy.se</a></p>
<p><img src="file:///c:/Users/Max Oredson/webapp/image-1.png" alt="alt text"><br>
<img src="file:///c:/Users/Max Oredson/webapp/image-2.png" alt="alt text"></p>
<hr>
<div style="margin-top: 200px;"></div>
<h1 id="infrastrukturupps%C3%A4ttning-i-azure">Infrastrukturupps√§ttning i Azure</h1>
<p>F√∂r att strukturera projektets infrastruktur p√• ett s√§kert och skalbart s√§tt har jag inledningsvis skapat en resursgrupp vid namn <strong>rg-webapp-mysql.</strong> Denna resursgrupp fungerar som en samlad plats f√∂r alla relaterade resurser inom projektet.</p>
<p>D√§refter konfigurerades ett virtuellt n√§tverk med namnet <strong>vnet-webapp-mysql</strong>, vilket √§r baserat p√• adressrymden <strong>10.0.0.0/16.</strong> Detta n√§tverk √§r indelat i flera undern√§t (subnets), d√§r varje del har ett tydligt syfte och ansvar f√∂r olika komponenter i l√∂sningen:</p>
<table>
<thead>
<tr>
<th>Subn√§t</th>
<th>Adressrymd</th>
<th>Syfte</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>app-subnet</code></td>
<td><code>10.0.1.0/24</code></td>
<td>H√§r placeras applikationsservern som k√∂r webbapplikationen.</td>
</tr>
<tr>
<td><code>db-subnet</code></td>
<td><code>10.0.2.0/24</code></td>
<td>Anv√§nds f√∂r att isolera MySQL-databasen i en separat zon.</td>
</tr>
<tr>
<td><code>reverseproxy-subnet</code></td>
<td><code>10.0.3.0/24</code></td>
<td>Inneh√•ller en reverse proxy-server som hanterar trafik mellan klient och applikation.</td>
</tr>
<tr>
<td><code>bastionhost-subnet</code></td>
<td><code>10.0.4.0/24</code></td>
<td>Inneh√•ller en Bastion Host som m√∂jligg√∂r s√§ker administration (SSH) utan att exponera virtuella maskiner direkt mot internet.</td>
</tr>
</tbody>
</table>
<p>Denna uppdelning av n√§tverket m√∂jligg√∂r f√∂rb√§ttrad s√§kerhet, enklare n√§tverksadministration och tydligare separering mellan olika typer av resurser.</p>
<h1 id="s%C3%A4kerhetsf%C3%B6rdelar-med-n%C3%A4tverksarkitekturen">S√§kerhetsf√∂rdelar med n√§tverksarkitekturen</h1>
<p>Genom att segmentera det virtuella n√§tverket i dedikerade subn√§t f√∂r olika funktioner uppn√•s flera viktiga s√§kerhetsf√∂rdelar:</p>
<ul>
<li>üîê <strong>N√§tverksisolering:</strong> Databasen ligger i ett separat db-subnet utan direkt exponering mot internet, vilket minimerar risken f√∂r intr√•ng.</li>
<li>üîÅ <strong>Trafikstyrning och filtrering:</strong> Med ett separat reverseproxy-subnet kan inkommande trafik kontrolleras och filtreras innan den n√•r applikationen. Detta m√∂jligg√∂r implementation av t.ex. brandv√§ggsregler, TLS-terminering och lastbalansering.</li>
<li>üë®‚Äçüíª <strong>S√§ker administration:</strong> Genom att anv√§nda en Bastion Host i ett eget bastionhost-subnet undviks behovet av att √∂ppna portar f√∂r SSH direkt mot de virtuella maskinerna. All √•tkomst sker via Azure Bastion, vilket erbjuder en s√§ker och sp√•rbar inloggningsmetod.</li>
</ul>
<h1 id="applikationsserver-vm">Applikationsserver (VM)</h1>
<p>Efter att n√§tverksinfrastrukturen var p√• plats skapades en virtuell maskin som fungerar som applikationsserver. Denna server √§r ansvarig f√∂r att k√∂ra webbapplikationen samt ansluta till databasen via LEMP-stacken (Linux, Nginx, MySQL, PHP).</p>
<p><strong>Konfiguration av virtuell maskin:</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>V√§rde</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Namn</strong></td>
<td><code>vm-webapp</code></td>
</tr>
<tr>
<td><strong>Region</strong></td>
<td>North Europe</td>
</tr>
<tr>
<td><strong>Image</strong></td>
<td>Ubuntu Server 22.04 LTS ‚Äì x64 Gen2</td>
</tr>
<tr>
<td><strong>Storlek</strong></td>
<td>Standard_B1s (kostnadseffektiv f√∂r utbildningssyfte)</td>
</tr>
<tr>
<td><strong>Virtuellt n√§tverk</strong></td>
<td><code>vnet-webapp-mysql</code></td>
</tr>
<tr>
<td><strong>Subnet</strong></td>
<td><code>app-subnet</code> (<code>10.0.1.0/24</code>)</td>
</tr>
</tbody>
</table>
<p>F√∂r automatiserad installation och konfiguration av programvaran anv√§ndes en cloud-init-fil. Denna fil ser till att alla n√∂dv√§ndiga komponenter f√∂r applikationsdrift installeras och konfigureras vid uppstart. Cloud-init-konfigurationen √§r bifogad l√§ngst ner i rapporten.</p>
<h2 id="%F0%9F%96%A5%EF%B8%8F-applikationsserver-appserver">üñ•Ô∏è Applikationsserver (Appserver)</h2>
<p><strong>Operativsystem:</strong> Ubuntu 24.04 LTS</p>
<ul>
<li>K√∂r webbapplikationen (PHP, MySQL-anslutningar etc.)</li>
<li>Ansvarar f√∂r kommunikation med databasen (MySQL)</li>
<li>Tar emot och behandlar trafik fr√•n reverse proxy-servern</li>
<li>Hanterar anv√§ndarsessioner och autentisering</li>
</ul>
<h1 id="reverse-proxy-server-vm">Reverse proxy-server (VM)</h1>
<p>Efter att applikationsservern var p√• plats skapades en virtuell maskin som fungerar som reverse proxy-server. Denna server ansvarar f√∂r att ta emot och hantera alla inkommande HTTP/HTTPS-f√∂rfr√•gningar, vidarebefordra dem till backend-webbservern, samt f√∂rb√§ttra s√§kerheten genom att agera som en barri√§r mellan internet och interna resurser. Reverse proxy-servern hanterar ocks√• SSL-terminering, lastbalansering och kan bidra till att optimera prestanda genom cachning. Reverse Proxy-konfigurationen √§r bifogad l√§ngst ner i rapporten.</p>
<p><strong>Konfiguration av virtuell maskin</strong></p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th>V√§rde</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Namn</strong></td>
<td><code>vm-reverseproxy</code></td>
</tr>
<tr>
<td><strong>Region</strong></td>
<td>North Europe</td>
</tr>
<tr>
<td><strong>Image</strong></td>
<td>Ubuntu Server 22.04 LTS ‚Äì x64 Gen2</td>
</tr>
<tr>
<td><strong>Storlek</strong></td>
<td>Standard_B1s (kostnadseffektiv f√∂r utbildningssyfte)</td>
</tr>
<tr>
<td><strong>Virtuellt n√§tverk</strong></td>
<td><code>vnet-webapp-mysql</code></td>
</tr>
<tr>
<td><strong>Subnet</strong></td>
<td><code>reverseproxy-subnet (10.0.3.0/24)</code></td>
</tr>
</tbody>
</table>
<h2 id="%F0%9F%96%A5%EF%B8%8F-reverse-proxy-server">üñ•Ô∏è Reverse Proxy-server</h2>
<p><strong>Operativsystem</strong>: Ubuntu 24.04 LTS</p>
<ul>
<li>Tar emot och hanterar alla inkommande HTTP/HTTPS-f√∂rfr√•gningar</li>
<li>Utf√∂r SSL-terminering med hj√§lp av Let's Encrypt-certifikat</li>
<li>Proxyar och vidarebefordrar trafik till applikationsservern p√• interna IP-adresser</li>
<li>F√∂rb√§ttrar s√§kerheten genom att agera som en barri√§r och begr√§nsa direkt √•tkomst till applikationsservern</li>
</ul>
<h1 id="bastion-host-server-vm">Bastion-host server (VM)</h1>
<p>Efter att b√•de applikationsservern och reverse proxy-servern var p√• plats skapades en virtuell maskin som fungerar som bastion-host. Denna server ansvarar f√∂r att ge s√§ker fj√§rr√•tkomst till resurser i det privata n√§tverket, utan att exponera dem direkt mot internet. Bastion-host fungerar som en s√§ker gateway f√∂r administration, och minskar risken f√∂r obeh√∂rig √•tkomst genom att centralisera och skydda anslutningarna.</p>
<p><strong>Konfiguration av virtuell maskin</strong></p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th>V√§rde</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Namn</strong></td>
<td><code>vm-bastion-host</code></td>
</tr>
<tr>
<td><strong>Region</strong></td>
<td>North Europe</td>
</tr>
<tr>
<td><strong>Image</strong></td>
<td>Ubuntu Server 22.04 LTS ‚Äì x64 Gen2</td>
</tr>
<tr>
<td><strong>Storlek</strong></td>
<td>Standard_B1s (kostnadseffektiv f√∂r utbildningssyfte)</td>
</tr>
<tr>
<td><strong>Virtuellt n√§tverk</strong></td>
<td><code>vnet-webapp-mysql</code></td>
</tr>
<tr>
<td><strong>Subnet</strong></td>
<td><code>bastion-subnet (10.0.4.0/24)</code></td>
</tr>
</tbody>
</table>
<h2 id="%F0%9F%96%A5%EF%B8%8F-bastion-host-s%C3%A4ker-ssh-access">üñ•Ô∏è Bastion Host (S√§ker SSH-access)</h2>
<ul>
<li>Ger s√§ker fj√§rr√•tkomst till resurser i det privata n√§tverket</li>
<li>Fungerar som en s√§ker gateway f√∂r SSH-anslutningar till interna servrar</li>
<li>Anv√§nds som hopppunkt (ProxyJump) vid fj√§rradministration och i CI/CD-pipelines</li>
<li>Centraliserar och begr√§nsar √•tkomst f√∂r att minska risken f√∂r obeh√∂rig √•tkomst</li>
<li>Skyddar interna servrar genom att undvika direkt exponering mot internet</li>
</ul>
<h1 id="databaskonfiguration-azure-database-for-mysql-%E2%80%93-flexible-server">Databaskonfiguration: Azure Database for MySQL ‚Äì Flexible Server</h1>
<p>F√∂r att hantera lagring och hantering av applikationens databas skapades en <strong>Azure Database for MySQL ‚Äì Flexible Server.</strong> Denna tj√§nst √§r optimerad f√∂r utvecklingsmilj√∂er och erbjuder h√∂g tillg√§nglighet, automatiska s√§kerhetskopior samt flexibel resurshantering.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>V√§rde</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Servernamn</strong></td>
<td><code>mysql-webapp-01</code></td>
</tr>
<tr>
<td><strong>Region</strong></td>
<td>North Europe</td>
</tr>
<tr>
<td><strong>MySQL-version</strong></td>
<td>5.7</td>
</tr>
<tr>
<td><strong>Arbetsbelastning</strong></td>
<td>Development (optimerad f√∂r test och utveckling)</td>
</tr>
<tr>
<td><strong>Ber√§kning + lagring</strong></td>
<td>Burstable B1ms (1 vCore, 2 GiB RAM), 20 GiB lagring</td>
</tr>
<tr>
<td><strong>Anslutningstyp</strong></td>
<td>Privat anslutning via VNet-integration</td>
</tr>
<tr>
<td><strong>Virtuellt n√§tverk</strong></td>
<td><code>vnet-webapp-mysql</code></td>
</tr>
<tr>
<td><strong>Subnet</strong></td>
<td><code>db-subnet</code> (<code>10.0.2.0/24</code>)</td>
</tr>
<tr>
<td><strong>Privat DNS-integration</strong></td>
<td>Ja</td>
</tr>
<tr>
<td><strong>Privat DNS-zon</strong></td>
<td><code>mysql.database.azure.com</code></td>
</tr>
</tbody>
</table>
<h2 id="%F0%9F%96%A5%EF%B8%8F-databasserver-azure-database-for-mysql">üñ•Ô∏è Databasserver (Azure Database for MySQL)</h2>
<ul>
<li>Lagrar applikationens strukturerade data (formul√§rsvar, anv√§ndarinformation m.m.)</li>
<li>K√∂rs som hanterad tj√§nst f√∂r enklare drift och underh√•ll</li>
<li>Ansluts privat via VNet f√∂r √∂kad s√§kerhet</li>
<li>Ger automatisk backup och h√∂g tillg√§nglighet</li>
<li>Optimerad f√∂r utvecklingsmilj√∂ med flexibel resursanv√§ndning</li>
</ul>
<h1 id="applikationsfiler-och-deras-funktion">Applikationsfiler och deras funktion</h1>
<p>F√∂r att bygga webbapplikationen skapades ett antal viktiga filer, vilka utg√∂r applikationens backend, frontend och stil. Nedan f√∂ljer en √∂versikt av varje fil och dess syfte:</p>
<table>
<thead>
<tr>
<th>Filnamn</th>
<th>Syfte</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>database_setup.php</code></td>
<td>Skript f√∂r att skapa och konfigurera databastabeller som anv√§nds av applikationen.</td>
</tr>
<tr>
<td><code>index.html</code></td>
<td>Startsidan f√∂r webbapplikationen som visar anv√§ndarens namn och grundl√§ggande information.</td>
</tr>
<tr>
<td><code>contact_form.html</code></td>
<td>HTML-formul√§r d√§r anv√§ndare kan skicka in kontaktmeddelanden.</td>
</tr>
<tr>
<td><code>on_post_contact.php</code></td>
<td>Backend-skript som hanterar formul√§rdata (POST) fr√•n <code>contact_form.html</code> och sparar det i databasen.</td>
</tr>
<tr>
<td><code>on_get_messages.php</code></td>
<td>Backend-skript som h√§mtar och returnerar sparade meddelanden fr√•n databasen (GET).</td>
</tr>
<tr>
<td><code>style.css</code></td>
<td>CSS-fil som inneh√•ller stilmallarna f√∂r webbapplikationens visuella utseende.</td>
</tr>
</tbody>
</table>
<p><strong>Sammanfattning</strong></p>
<p>Tillsammans utg√∂r dessa filer en komplett webbapplikation med b√•de frontend och backend som m√∂jligg√∂r insamling, lagring och visning av anv√§ndarinmatad data, samtidigt som anv√§ndarupplevelsen f√∂rst√§rks med en separat stilfil.</p>
<h2 id="%F0%9F%A7%B0-funktionalitet">üß∞ Funktionalitet</h2>
<ul>
<li>‚úÖ Visar startsida (<code>index.html</code>)</li>
<li>‚úÖ Kontaktformul√§r (via <code>contact_form.html</code>)</li>
<li>‚úÖ Skickar formul√§rdata till backend (<code>on_post_contact.php</code>)</li>
<li>‚úÖ Visar sparade meddelanden (<code>on_get_messages.php</code>)</li>
<li>‚úÖ PHP-script f√∂r databas-setup (<code>database_setup.php</code>)</li>
<li>‚úÖ Responsiv design via <code>style.css</code></li>
<li>‚úÖ Lagrar formul√§rsvar i Azure Blob Storage</li>
</ul>
<hr>
<h1 id="%E2%98%81%EF%B8%8F-infrastruktur-s%C3%A4kerhet--deployment">‚òÅÔ∏è Infrastruktur, S√§kerhet &amp; Deployment</h1>
<p>Denna webbapplikation √§r byggd med fokus p√• s√§kerhet, skalbarhet och effektiv hantering av drifts√§ttningar. Infrastrukturmilj√∂n best√•r av flera virtuella servrar i Azure, d√§r en dedikerad bastionhost m√∂jligg√∂r s√§ker fj√§rr√•tkomst, och en reverse proxy hanterar inkommande trafik f√∂r att optimera prestanda och skydd. Applikationen k√∂rs p√• en separat virtuell server som √§r isolerad f√∂r att garantera stabilitet och s√§kerhet.</p>
<p>Deploymentprocessen √§r automatiserad via en CI/CD-pipeline som s√§kerst√§ller snabba, p√•litliga och reproducerbara leveranser till produktionsmilj√∂n. Detta m√∂jligg√∂r kontinuerliga uppdateringar av applikationen utan driftstopp och med h√∂g kvalitet i varje release.</p>
<h2 id="%F0%9F%93%81-mappstruktur">üìÅ Mappstruktur</h2>
<p>/webapp</p>
<p>‚îú‚îÄ‚îÄ contact_form.html</p>
<p>‚îú‚îÄ‚îÄ database_setup.php</p>
<p>‚îú‚îÄ‚îÄ index.html</p>
<p>‚îú‚îÄ‚îÄ on_get_messages.php</p>
<p>‚îú‚îÄ‚îÄ on_post_contact.php</p>
<p>‚îî‚îÄ‚îÄ style.css</p>
<h2 id="%E2%98%81%EF%B8%8F-azure-blob-storage">‚òÅÔ∏è Azure Blob Storage</h2>
<ul>
<li>Lagrar formul√§rdata och bifogade filer fr√•n webbapplikationen</li>
<li>Formul√§rsvar sparas som .json-fil i Blob Storage</li>
<li>Svaren lagras i en container som heter <strong>responses</strong></li>
<li>Separat lagring utanf√∂r applikationsservern f√∂r b√§ttre skalbarhet och s√§kerhet</li>
<li>√Ötkomst sker via API-anrop fr√•n applikationen</li>
</ul>
<h2 id="%F0%9F%94%90-s%C3%A4kerhet">üîê S√§kerhet</h2>
<ul>
<li>‚úÖ Endast bastion host √§r √∂ppen mot internet</li>
<li>‚úÖ Applikationsservern √§r endast tillg√§nglig via bastionen (SSH ProxyJump)</li>
<li>‚úÖ SSH-nycklar hanteras s√§kert via GitHub Secrets</li>
<li>‚úÖ Automatisk uppdatering av serverns known_hosts via pipeline</li>
<li>‚úÖ Brandv√§gg till√•ter endast n√∂dv√§ndig trafik (t.ex. HTTPS via reverse proxy)</li>
<li>‚úÖ TLS/HTTPS anv√§nds med giltiga certifikat p√• reverse proxy</li>
</ul>
<h2 id="%F0%9F%94%92-network-security-groups-nsg">üîí Network Security Groups (NSG)</h2>
<table>
<thead>
<tr>
<th><strong>NSG-namn</strong></th>
<th><strong>Till√§mpat p√•</strong></th>
<th><strong>Port(ar)</strong></th>
<th><strong>Anv√§ndning / Syfte</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nsg-db-subnet</code></td>
<td>Databassubnet</td>
<td>3306 (MySQL)</td>
<td>Till√•ter MySQL-trafik fr√•n webbapplikationens subnet <strong>10.0.1.0/24</strong> till databasen</td>
</tr>
<tr>
<td><code>vm-bastionhost-nsg</code></td>
<td>Bastion Host VM</td>
<td>22 (SSH)</td>
<td>Till√•ter SSH-√•tkomst till bastionhost</td>
</tr>
<tr>
<td><code>vm-reverseproxy-nsg</code></td>
<td>Reverse Proxy VM</td>
<td>80 (HTTP), 443 (HTTPS)</td>
<td>Till√•ter kontrollerad HTTP/HTTPS-trafik fr√•n internet till reverse proxy f√∂r att s√§kert exponera webbapplikationen</td>
</tr>
<tr>
<td><code>webapp-nsg</code></td>
<td>Applikationsserver VM</td>
<td>80 (HTTP), 22 (SSH)</td>
<td>ASG:erna <code>ReverseProxyASG</code> (HTTP/HTTPS) och <code>BastionHostASG</code> (SSH) anv√§nds som destination i NSG-regler f√∂r att till√•ta trafik fr√•n reverse proxyn respektive bastionhost till webbapplikationen, som inte √§r exponerad mot internet.</td>
</tr>
</tbody>
</table>
<h2 id="%F0%9F%94%92-application-security-groups-asg">üîí Application Security Groups (ASG)</h2>
<table>
<thead>
<tr>
<th><strong>ASG-namn</strong></th>
<th><strong>Till√§mpat p√•</strong></th>
<th><strong>Anv√§ndning / Syfte</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ReverseProxyASG</code></td>
<td>Reverse Proxy VM</td>
<td>Anv√§nds som <strong>destination</strong> i NSG-regel f√∂r att till√•ta HTTP/HTTPS-trafik till webbapplikationen fr√•n reverse proxyn</td>
</tr>
<tr>
<td><code>BastionHostASG</code></td>
<td>Bastion Host VM</td>
<td>Anv√§nds som <strong>destination</strong> i NSG-regel f√∂r att till√•ta SSH-trafik till webbapplikationen fr√•n bastionhost</td>
</tr>
</tbody>
</table>
<h2 id="%F0%9F%94%90-github-secrets">üîê GitHub Secrets</h2>
<p>Nedan visas en √∂versikt √∂ver de milj√∂variabler och hemligheter som anv√§nds f√∂r att ansluta till bastionhost och applikationsservern. V√§rdena inkluderar b√•de publika och interna IP-adresser, anv√§ndarnamn samt referens till den privata SSH-nyckeln.</p>
<table>
<thead>
<tr>
<th><strong>Namn</strong></th>
<th><strong>V√§rde</strong></th>
<th><strong>Beskrivning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BASTION_HOST</code></td>
<td><code>74.234.34.18</code></td>
<td>Publik IP till bastionhost</td>
</tr>
<tr>
<td><code>BASTION_USER</code></td>
<td><code>azureuser</code></td>
<td>Anv√§ndare f√∂r bastionhost</td>
</tr>
<tr>
<td><code>SSH_PRIVATE_KEY</code></td>
<td>privat SSH-nyckel (<code>~/.ssh/id_rsa</code>)</td>
<td>Privat SSH-nyckel f√∂r autentisering</td>
</tr>
<tr>
<td><code>VM_HOST</code></td>
<td><code>10.0.1.4</code></td>
<td>Intern IP till applikationsserver</td>
</tr>
<tr>
<td><code>VM_USER</code></td>
<td><code>azureuser</code></td>
<td>Anv√§ndare f√∂r applikationsserver</td>
</tr>
</tbody>
</table>
<h2 id="%F0%9F%94%90-hantering-av-ssh-nycklar">üîê Hantering av SSH-nycklar</h2>
<p>F√∂r att m√∂jligg√∂ra s√§ker och automatiserad deployment fr√•n GitHub Actions till webbservern anv√§nds SSH-nyckelbaserad autentisering:</p>
<ul>
<li>Ett nyckelpar (privat + publik) genereras lokalt</li>
<li>Den privata nyckeln (id_rsa) l√§ggs till som en GitHub Secret i repositoryt (SSH_PRIVATE_KEY)</li>
<li>Den publika nyckeln (id_rsa.pub) l√§ggs till i filen ~/.ssh/authorized_keys p√•:
<ul>
<li>Bastion Host</li>
<li>Appservern</li>
</ul>
</li>
</ul>
<p>GitHub Actions anv√§nder sedan nyckeln f√∂r att ansluta till servern via SSH och k√∂ra deployment-kommandon (t.ex. git pull)</p>
<h2 id="%F0%9F%94%92-https-och-ssltls-s%C3%A4kerhet">üîí HTTPS och SSL/TLS-s√§kerhet</h2>
<p>Applikationen √§r s√§krad med HTTPS via ett kostnadsfritt SSL/TLS-certifikat fr√•n <strong>Let's Encrypt</strong>. Certifikatet hanteras automatiskt med hj√§lp av <strong>Certbot</strong>, och installationen sker direkt p√• reverse proxy-servern (Nginx).</p>
<p><strong>Funktionaliteten bygger p√• f√∂ljande:</strong></p>
<ul>
<li><strong>Port 443</strong> √§r √∂ppen p√• reverse proxy-servern f√∂r att till√•ta HTTPS-trafik.</li>
<li><strong>Dom√§nen (<code>wavvy.se</code>) pekar till reverse proxy-serverns IP</strong> via A-poster i DNS (Loopia).</li>
<li><strong>Certbot</strong> anv√§nds f√∂r att automatiskt:
<ul>
<li>Generera och installera SSL-certifikat</li>
<li>F√∂rnya certifikaten regelbundet</li>
</ul>
</li>
<li><strong>Nginx</strong> √§r konfigurerad att lyssna p√• b√•de port 80 och 443, och omdirigerar trafik fr√•n HTTP till HTTPS.</li>
</ul>
<p><strong>D√§rmed s√§kerst√§lls:</strong></p>
<ul>
<li>Krypterad kommunikation mellan klient och server</li>
<li>Skydd mot man-in-the-middle-attacker</li>
<li>F√∂rb√§ttrad SEO och anv√§ndarf√∂rtroende</li>
</ul>
<p>Exempel p√• tillg√§nglig tj√§nst:<br>
https://wavvy.se</p>
<h2 id="%F0%9F%9A%80-cicd-pipeline-med-github-actions">üöÄ CI/CD-pipeline med GitHub Actions</h2>
<p>Applikationen anv√§nder en CI/CD-pipeline (Continuous Integration &amp; Continuous Deployment) via GitHub Actions f√∂r att automatiskt:</p>
<ul>
<li>Bygga och testa kod</li>
<li>Ansluta till webbservern via SSH genom en bastion host och reverse proxy</li>
<li>Utf√∂ra git pull f√∂r att h√§mta senaste versionen av koden till servern</li>
<li>K√∂ra eventuella byggsteg (t.ex. php-fpm install, composer install, etc.)</li>
<li>Starta om applikationen vid behov (t.ex. nginx)</li>
<li>Verifiera och hantera milj√∂variabler och hemligheter via GitHub Secrets</li>
</ul>
<h2 id="%F0%9F%9B%A0%EF%B8%8F-processfl%C3%B6de">üõ†Ô∏è Processfl√∂de</h2>
<ul>
<li>N√§r en √§ndring pushas till main-branchen startas arbetsfl√∂det automatiskt.</li>
<li>En GitHub Actions-runner s√§tter upp en s√§ker SSH-anslutning till bastion host och vidare via reverse proxy till webbservern.</li>
<li>P√• m√•lsystemet h√§mtas den senaste koden.</li>
<li>Tj√§nsten startas om s√• att √§ndringarna blir synliga direkt.</li>
</ul>
<h2 id="%F0%9F%94%90-s%C3%A4kerhet-i-pipelinen">üîê S√§kerhet i pipelinen</h2>
<ul>
<li>SSH-nycklar hanteras s√§kert via GitHub Secrets</li>
<li>ProxyJump (bastion host) anv√§nds f√∂r s√§ker √•tkomst till interna milj√∂er</li>
<li>Endast privata nycklar anv√§nds (l√∂senordsfri autentisering)</li>
<li>HTTPS √§r aktiverat p√• webbservern via Let's Encrypt och Nginx</li>
</ul>
<h1 id="bilagor-till-koder-som-tillh%C3%B6r-webbapplikationen">Bilagor till koder som tillh√∂r webbapplikationen</h1>
<p>H√§r hittar du samlade kodbilagor och konfigurationsfiler som h√∂r till webbapplikationen. Dessa filer utg√∂r viktiga delar av applikationens backend och servermilj√∂, och visar bland annat hur servern √§r uppsatt, hur databasen ansluts samt hur applikationen hanterar data.</p>
<h2 id="%F0%9F%93%84-cloud-configyaml">üìÑ cloud-config.yaml</h2>
<p>Denna fil anv√§nds f√∂r att automatisera installationen och konfigureringen av LEMP-stacken (Linux, Nginx, MySQL-klient, PHP) p√• applikationsservern. Genom att anv√§nda denna cloud-config s√§kerst√§lls att servern √§r korrekt f√∂rberedd med alla n√∂dv√§ndiga komponenter f√∂r att k√∂ra webbapplikationen.</p>
<pre class="hljs"><code><div><span class="hljs-comment">#cloud-config</span>
<span class="hljs-comment"># Application server with LEMP stack for Azure MySQL connectivity</span>

<span class="hljs-attr">package_update:</span> <span class="hljs-literal">true</span>

<span class="hljs-comment"># Add external repositories</span>
<span class="hljs-attr">apt:</span>
  <span class="hljs-attr">sources:</span>
    <span class="hljs-attr">ondrej-php:</span>
      <span class="hljs-attr">source:</span> <span class="hljs-string">ppa:ondrej/php</span>

<span class="hljs-attr">packages:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">software-properties-common</span>  <span class="hljs-comment"># Required for adding PPAs</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">nginx</span>          <span class="hljs-comment"># Web server</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">php8.1-fpm</span>     <span class="hljs-comment"># PHP 8.1 FastCGI Process Manager (specific version)</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">php8.1-mysql</span>   <span class="hljs-comment"># PHP 8.1 MySQL extension</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">php8.1-cli</span>     <span class="hljs-comment"># PHP 8.1 command line interface</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">mysql-client</span>   <span class="hljs-comment"># MySQL client for testing</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">unzip</span>          <span class="hljs-comment"># For extracting files</span>

<span class="hljs-attr">write_files:</span>
  <span class="hljs-comment"># Configure Nginx to serve PHP files</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/etc/nginx/sites-available/default</span>
    <span class="hljs-attr">content:</span> <span class="hljs-string">|
      server {
          listen 80;
          root /var/www/html;
          index index.php index.html index.nginx-debian.html;
</span>
          <span class="hljs-string">server_name</span> <span class="hljs-string">_;</span>

          <span class="hljs-string">location</span> <span class="hljs-string">/</span> <span class="hljs-string">{</span>
              <span class="hljs-string">try_files</span> <span class="hljs-string">$uri</span> <span class="hljs-string">$uri/</span> <span class="hljs-string">=404;</span>
          <span class="hljs-string">}</span>

          <span class="hljs-string">location</span> <span class="hljs-string">~</span> <span class="hljs-string">\.php$</span> <span class="hljs-string">{</span>
              <span class="hljs-string">include</span> <span class="hljs-string">snippets/fastcgi-php.conf;</span>
              <span class="hljs-string">fastcgi_pass</span> <span class="hljs-string">unix:/var/run/php/php8.1-fpm.sock;</span>
          <span class="hljs-string">}</span>

          <span class="hljs-comment"># Health check endpoint</span>
          <span class="hljs-string">location</span> <span class="hljs-string">/health</span> <span class="hljs-string">{</span>
              <span class="hljs-string">access_log</span> <span class="hljs-string">off;</span>
              <span class="hljs-string">return</span> <span class="hljs-number">200</span> <span class="hljs-string">"Application server healthy\n"</span><span class="hljs-string">;</span>
              <span class="hljs-string">add_header</span> <span class="hljs-string">Content-Type</span> <span class="hljs-string">text/plain;</span>
          <span class="hljs-string">}</span>
      <span class="hljs-string">}</span>

<span class="hljs-attr">runcmd:</span>
  <span class="hljs-comment"># Set proper permissions for web directory</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">chown</span> <span class="hljs-string">-R</span> <span class="hljs-string">www-data:www-data</span> <span class="hljs-string">/var/www/html</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">chmod</span> <span class="hljs-string">-R</span> <span class="hljs-number">755</span> <span class="hljs-string">/var/www/html</span>

  <span class="hljs-comment"># Restart and enable services</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">systemctl</span> <span class="hljs-string">restart</span> <span class="hljs-string">nginx</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">systemctl</span> <span class="hljs-string">enable</span> <span class="hljs-string">nginx</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">systemctl</span> <span class="hljs-string">restart</span> <span class="hljs-string">php8.1-fpm</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">systemctl</span> <span class="hljs-string">enable</span> <span class="hljs-string">php8.1-fpm</span>
</div></code></pre>
<h2 id="%F0%9F%93%84-databasesetupphp">üìÑ database_setup.php</h2>
<p>Denna fil ansluter till Azure MySQL med s√§ker SSL-anslutning och skapar tabellen contacts om den inte redan finns. Den anv√§nds f√∂r att konfigurera databasen som webbapplikationen beh√∂ver.</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// Azure MySQL Database configuration</span>
<span class="hljs-comment">// Replace with your actual Azure MySQL server details</span>
<span class="hljs-comment">// CI/CD Pipeline</span>
$host = getenv(<span class="hljs-string">'MYSQL_HOST'</span>) ?: <span class="hljs-string">'mysql-webapp-01.mysql.database.azure.com'</span>;
$dbname = getenv(<span class="hljs-string">'MYSQL_DATABASE'</span>) ?: <span class="hljs-string">'contactforms'</span>;
$username = getenv(<span class="hljs-string">'MYSQL_USERNAME'</span>) ?: <span class="hljs-string">'mysqladmin'</span>;
$password = getenv(<span class="hljs-string">'MYSQL_PASSWORD'</span>) ?: <span class="hljs-string">'SecurePassword123!'</span>;

<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// Connect to Azure MySQL with SSL</span>
    $pdo = <span class="hljs-keyword">new</span> PDO(<span class="hljs-string">"mysql:host=$host;dbname=$dbname;charset=utf8mb4"</span>, $username, $password, [
        PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION,
        PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC,
        PDO::MYSQL_ATTR_SSL_CA =&gt; <span class="hljs-string">'/etc/ssl/certs/ca-certificates.crt'</span>
    ]);

    <span class="hljs-comment">// Create table if not exists (database-first approach for learning)</span>
    $pdo-&gt;exec(<span class="hljs-string">"CREATE TABLE IF NOT EXISTS contacts (
        id INT AUTO_INCREMENT PRIMARY KEY,
        name VARCHAR(100) NOT NULL,
        email VARCHAR(100) NOT NULL,
        message TEXT NOT NULL,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        INDEX idx_created_at (created_at)
    )"</span>);

    <span class="hljs-keyword">echo</span> <span class="hljs-string">"&lt;!-- Database connection successful --&gt;\n"</span>;

} <span class="hljs-keyword">catch</span>(PDOException $e) {
    <span class="hljs-comment">// Log error and show user-friendly message</span>
    error_log(<span class="hljs-string">"Database connection failed: "</span> . $e-&gt;getMessage());
    <span class="hljs-keyword">die</span>(<span class="hljs-string">"Database connection failed. Please check configuration. Error: "</span> . $e-&gt;getMessage());
}
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<h2 id="%F0%9F%93%84-indexhtml">üìÑ index.html</h2>
<p>Startsidan f√∂r webbapplikationen som presenterar kontaktappens syfte och arkitektur. Den inneh√•ller navigering till formul√§r och meddelandelista samt ger en √∂versikt √∂ver tekniska funktioner.</p>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- CI/CD Pipeline --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Level 2.3: Azure MySQL Contact App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>üìù Azure MySQL Contact App - Max Oredson MOV24<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Level 2.3: LEMP Stack with Azure MySQL Flexible Server<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"index.html"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"contact_form.html"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>Contact Form<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"on_get_messages.php"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>View Messages<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Welcome!<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is a PHP contact form application running on Azure with secure database connectivity.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"features"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Architecture Features:<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Contact form with Azure MySQL database storage<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Secure private network connectivity<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Azure Database for MySQL Flexible Server<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>SSL/TLS encrypted database connections<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Network Security Group protection<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Nginx web server with PHP-FPM<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<h2 id="%F0%9F%93%84-contactformhtml">üìÑ contact_form.html</h2>
<p>En webbsida med ett kontaktformul√§r d√§r anv√§ndare kan skicka namn, e-post och meddelande. Formul√§ret skickar data till servern f√∂r vidare hantering.</p>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- CI/CD Pipeline --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Contact Form - Azure MySQL Contact App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>‚úâÔ∏è Contact Form<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"index.html"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"contact_form.html"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn active"</span>&gt;</span>Contact Form<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"on_get_messages.php"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>View Messages<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"on_post_contact.php"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"contact-form"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"email"</span>&gt;</span>Email:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"message"</span>&gt;</span>Message:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">required</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn submit-btn"</span>&gt;</span>Send Message<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<h2 id="%F0%9F%93%84-onpostcontactphp">üìÑ on_post_contact.php</h2>
<p>Denna fil tar emot och bearbetar data fr√•n kontaktformul√§ret. Den validerar inmatningen och sparar meddelandet i Azure MySQL-databasen samt lagrar en kopia i Azure Blob Storage.</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// CI/CD Pipeline</span>

<span class="hljs-keyword">if</span> (!defined(<span class="hljs-string">'CURLOPT_SSLVERSION'</span>)) {
    define(<span class="hljs-string">'CURLOPT_SSLVERSION'</span>, <span class="hljs-number">32</span>);
}
<span class="hljs-keyword">if</span> (!defined(<span class="hljs-string">'CURL_SSLVERSION_TLSv1_2'</span>)) {
    define(<span class="hljs-string">'CURL_SSLVERSION_TLSv1_2'</span>, <span class="hljs-number">6</span>);
}

<span class="hljs-comment">// Handle POST request for contact form submission</span>
<span class="hljs-keyword">require_once</span> <span class="hljs-string">'database_setup.php'</span>;
<span class="hljs-keyword">require_once</span> <span class="hljs-string">'vendor/autoload.php'</span>; <span class="hljs-comment">// Azure SDK</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">MicrosoftAzure</span>\<span class="hljs-title">Storage</span>\<span class="hljs-title">Blob</span>\<span class="hljs-title">BlobRestProxy</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">MicrosoftAzure</span>\<span class="hljs-title">Storage</span>\<span class="hljs-title">Common</span>\<span class="hljs-title">Exceptions</span>\<span class="hljs-title">ServiceException</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">MicrosoftAzure</span>\<span class="hljs-title">Storage</span>\<span class="hljs-title">Blob</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">CreateBlockBlobOptions</span>;

<span class="hljs-keyword">if</span> ($_SERVER[<span class="hljs-string">'REQUEST_METHOD'</span>] == <span class="hljs-string">'POST'</span>) {
    $name = $_POST[<span class="hljs-string">'name'</span>] ?? <span class="hljs-string">''</span>;
    $email = $_POST[<span class="hljs-string">'email'</span>] ?? <span class="hljs-string">''</span>;
    $message = $_POST[<span class="hljs-string">'message'</span>] ?? <span class="hljs-string">''</span>;

    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">empty</span>($name) &amp;&amp; !<span class="hljs-keyword">empty</span>($email) &amp;&amp; !<span class="hljs-keyword">empty</span>($message)) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// === 1. Spara i databasen (din befintliga kod) ===</span>
            $stmt = $pdo-&gt;prepare(<span class="hljs-string">"INSERT INTO contacts (name, email, message) VALUES (?, ?, ?)"</span>);
            $stmt-&gt;execute([$name, $email, $message]);
            $success = <span class="hljs-keyword">true</span>;

            <span class="hljs-comment">// === 2. Skapa JSON av formul√§rsvar ===</span>
            $formData = [
                <span class="hljs-string">'name'</span> =&gt; $name,
                <span class="hljs-string">'email'</span> =&gt; $email,
                <span class="hljs-string">'message'</span> =&gt; $message,
                <span class="hljs-string">'timestamp'</span> =&gt; date(<span class="hljs-string">'c'</span>)
            ];
            $jsonData = json_encode($formData, JSON_PRETTY_PRINT);
            $filename = <span class="hljs-string">'formul√§rsvar_'</span> . time() . <span class="hljs-string">'_'</span> . uniqid() . <span class="hljs-string">'.json'</span>;

            <span class="hljs-comment">// === 3. Azure Blob Storage setup ===</span>
            $connectionString = <span class="hljs-string">"DefaultEndpointsProtocol=https;AccountName=blobresponses;AccountKey=bW4S5o6DgnNef09ZZsCDE3Q/gDMx04Z+J/J0xVBGdUIObcbOgvPt0utrvx6V8ejaMUxTn1UbWCO8+AStJc4ubA==;EndpointSuffix=core.windows.net"</span>;
            $containerName = <span class="hljs-string">'responses'</span>;

            $blobClient = BlobRestProxy::createBlobService($connectionString);
            $options = <span class="hljs-keyword">new</span> CreateBlockBlobOptions();
            $options-&gt;setContentType(<span class="hljs-string">"application/json"</span>);

            <span class="hljs-comment">// === 4. Spara JSON som blob ===</span>
            $blobClient-&gt;createBlockBlob($containerName, $filename, $jsonData, $options);

        } <span class="hljs-keyword">catch</span> (PDOException $e) {
            $error = <span class="hljs-string">"Error saving message: "</span> . $e-&gt;getMessage();
        } <span class="hljs-keyword">catch</span> (ServiceException $e) {
            $error = <span class="hljs-string">"Error saving to blob storage: "</span> . $e-&gt;getMessage();
        }
    } <span class="hljs-keyword">else</span> {
        $error = <span class="hljs-string">"All fields are required."</span>;
    }
}
<span class="hljs-meta">?&gt;</span>
&lt;!DOCTYPE html&gt;
&lt;html lang=<span class="hljs-string">"en"</span>&gt;
&lt;head&gt;
    &lt;meta charset=<span class="hljs-string">"UTF-8"</span>&gt;
    &lt;meta name=<span class="hljs-string">"viewport"</span> content=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;
    &lt;title&gt;Message Sent - Azure MySQL Contact App&lt;/title&gt;
    &lt;link rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"style.css"</span>&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">container</span>"&gt;
        &lt;<span class="hljs-title">header</span>&gt;
            &lt;<span class="hljs-title">h1</span>&gt;üì® <span class="hljs-title">Message</span> <span class="hljs-title">Status</span>&lt;/<span class="hljs-title">h1</span>&gt;
        &lt;/<span class="hljs-title">header</span>&gt;

        &lt;<span class="hljs-title">nav</span>&gt;
            &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">index</span>.<span class="hljs-title">html</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">Home</span>&lt;/<span class="hljs-title">a</span>&gt;
            &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">contact_form</span>.<span class="hljs-title">html</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">Contact</span> <span class="hljs-title">Form</span>&lt;/<span class="hljs-title">a</span>&gt;
            &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">on_get_messages</span>.<span class="hljs-title">php</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">View</span> <span class="hljs-title">Messages</span>&lt;/<span class="hljs-title">a</span>&gt;
        &lt;/<span class="hljs-title">nav</span>&gt;

        &lt;<span class="hljs-title">main</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">if</span> (<span class="hljs-title">isset</span>($<span class="hljs-title">success</span>)): ?&gt;
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">success</span>-<span class="hljs-title">message</span>"&gt;
                    &lt;<span class="hljs-title">h2</span>&gt;‚úÖ <span class="hljs-title">Message</span> <span class="hljs-title">Sent</span> <span class="hljs-title">Successfully</span>!&lt;/<span class="hljs-title">h2</span>&gt;
                    &lt;<span class="hljs-title">p</span>&gt;<span class="hljs-title">Thank</span> <span class="hljs-title">you</span> <span class="hljs-title">for</span> <span class="hljs-title">your</span> <span class="hljs-title">message</span>. <span class="hljs-title">It</span> <span class="hljs-title">has</span> <span class="hljs-title">been</span> <span class="hljs-title">saved</span> <span class="hljs-title">to</span> <span class="hljs-title">both</span> <span class="hljs-title">the</span> <span class="hljs-title">Azure</span> <span class="hljs-title">MySQL</span> <span class="hljs-title">database</span> <span class="hljs-title">and</span> <span class="hljs-title">Azure</span> <span class="hljs-title">Blob</span> <span class="hljs-title">Storage</span>.&lt;/<span class="hljs-title">p</span>&gt;
                &lt;/<span class="hljs-title">div</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">elseif</span> (<span class="hljs-title">isset</span>($<span class="hljs-title">error</span>)): ?&gt;
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">error</span>-<span class="hljs-title">message</span>"&gt;
                    &lt;<span class="hljs-title">h2</span>&gt;‚ùå <span class="hljs-title">Error</span>&lt;/<span class="hljs-title">h2</span>&gt;
                    &lt;<span class="hljs-title">p</span>&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">error</span>); ?&gt;&lt;/<span class="hljs-title">p</span>&gt;
                &lt;/<span class="hljs-title">div</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;

            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">actions</span>"&gt;
                &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">contact_form</span>.<span class="hljs-title">html</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">Send</span> <span class="hljs-title">Another</span> <span class="hljs-title">Message</span>&lt;/<span class="hljs-title">a</span>&gt;
                &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">on_get_messages</span>.<span class="hljs-title">php</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">View</span> <span class="hljs-title">All</span> <span class="hljs-title">Messages</span>&lt;/<span class="hljs-title">a</span>&gt;
            &lt;/<span class="hljs-title">div</span>&gt;
        &lt;/<span class="hljs-title">main</span>&gt;
    &lt;/<span class="hljs-title">div</span>&gt;
&lt;/<span class="hljs-title">body</span>&gt;
&lt;/<span class="hljs-title">html</span>&gt;
</span></div></code></pre>
<h2 id="%F0%9F%93%84-ongetmessagesphp">üìÑ on_get_messages.php</h2>
<p>Denna fil h√§mtar och visar alla inskickade kontaktmeddelanden fr√•n Azure MySQL-databasen.</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// CI/CD Pipeline</span>
<span class="hljs-comment">// Handle GET request to display all contact messages</span>
<span class="hljs-keyword">require_once</span> <span class="hljs-string">'database_setup.php'</span>;

<span class="hljs-keyword">try</span> {
    $stmt = $pdo-&gt;prepare(<span class="hljs-string">"SELECT id, name, email, message, created_at FROM contacts ORDER BY created_at DESC"</span>);
    $stmt-&gt;execute();
    $messages = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
} <span class="hljs-keyword">catch</span>(PDOException $e) {
    $error = <span class="hljs-string">"Error retrieving messages: "</span> . $e-&gt;getMessage();
    $messages = [];
}
<span class="hljs-meta">?&gt;</span>
&lt;!DOCTYPE html&gt;
&lt;html lang=<span class="hljs-string">"en"</span>&gt;
&lt;head&gt;
    &lt;meta charset=<span class="hljs-string">"UTF-8"</span>&gt;
    &lt;meta name=<span class="hljs-string">"viewport"</span> content=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;
    &lt;title&gt;All Messages - Azure MySQL Contact App&lt;/title&gt;
    &lt;link rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"style.css"</span>&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">container</span>"&gt;
        &lt;<span class="hljs-title">header</span>&gt;
            &lt;<span class="hljs-title">h1</span>&gt;üìã <span class="hljs-title">All</span> <span class="hljs-title">Messages</span>&lt;/<span class="hljs-title">h1</span>&gt;
        &lt;/<span class="hljs-title">header</span>&gt;

        &lt;<span class="hljs-title">nav</span>&gt;
            &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">index</span>.<span class="hljs-title">html</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">Home</span>&lt;/<span class="hljs-title">a</span>&gt;
            &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">contact_form</span>.<span class="hljs-title">html</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">Contact</span> <span class="hljs-title">Form</span>&lt;/<span class="hljs-title">a</span>&gt;
            &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">on_get_messages</span>.<span class="hljs-title">php</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span> <span class="hljs-title">active</span>"&gt;<span class="hljs-title">View</span> <span class="hljs-title">Messages</span>&lt;/<span class="hljs-title">a</span>&gt;
        &lt;/<span class="hljs-title">nav</span>&gt;

        &lt;<span class="hljs-title">main</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">if</span> (<span class="hljs-title">isset</span>($<span class="hljs-title">error</span>)): ?&gt;
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">error</span>-<span class="hljs-title">message</span>"&gt;
                    &lt;<span class="hljs-title">h2</span>&gt;‚ùå <span class="hljs-title">Error</span>&lt;/<span class="hljs-title">h2</span>&gt;
                    &lt;<span class="hljs-title">p</span>&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">error</span>); ?&gt;&lt;/<span class="hljs-title">p</span>&gt;
                &lt;/<span class="hljs-title">div</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">elseif</span> (<span class="hljs-title">empty</span>($<span class="hljs-title">messages</span>)): ?&gt;
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">info</span>-<span class="hljs-title">message</span>"&gt;
                    &lt;<span class="hljs-title">h2</span>&gt;üì≠ <span class="hljs-title">No</span> <span class="hljs-title">Messages</span> <span class="hljs-title">Yet</span>&lt;/<span class="hljs-title">h2</span>&gt;
                    &lt;<span class="hljs-title">p</span>&gt;<span class="hljs-title">No</span> <span class="hljs-title">messages</span> <span class="hljs-title">have</span> <span class="hljs-title">been</span> <span class="hljs-title">submitted</span> <span class="hljs-title">yet</span>.&lt;/<span class="hljs-title">p</span>&gt;
                    &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">contact_form</span>.<span class="hljs-title">html</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">Send</span> <span class="hljs-title">First</span> <span class="hljs-title">Message</span>&lt;/<span class="hljs-title">a</span>&gt;
                &lt;/<span class="hljs-title">div</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">else</span>: ?&gt;
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">messages</span>-<span class="hljs-title">count</span>"&gt;
                    &lt;<span class="hljs-title">p</span>&gt;<span class="hljs-title">Total</span> <span class="hljs-title">messages</span>: &lt;<span class="hljs-title">strong</span>&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">count</span>($<span class="hljs-title">messages</span>); ?&gt;&lt;/<span class="hljs-title">strong</span>&gt;&lt;/<span class="hljs-title">p</span>&gt;
                &lt;/<span class="hljs-title">div</span>&gt;

                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">messages</span>-<span class="hljs-title">list</span>"&gt;
                    &lt;?<span class="hljs-title">php</span> <span class="hljs-title">foreach</span> ($<span class="hljs-title">messages</span> <span class="hljs-title">as</span> $<span class="hljs-title">message</span>): ?&gt;
                        &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">message</span>-<span class="hljs-title">item</span>"&gt;
                            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">message</span>-<span class="hljs-title">header</span>"&gt;
                                &lt;<span class="hljs-title">h3</span>&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">message</span>['<span class="hljs-title">name</span>']); ?&gt;&lt;/<span class="hljs-title">h3</span>&gt;
                                &lt;<span class="hljs-title">span</span> <span class="hljs-title">class</span>="<span class="hljs-title">message</span>-<span class="hljs-title">date</span>"&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">message</span>['<span class="hljs-title">created_at</span>']); ?&gt;&lt;/<span class="hljs-title">span</span>&gt;
                            &lt;/<span class="hljs-title">div</span>&gt;
                            &lt;<span class="hljs-title">p</span> <span class="hljs-title">class</span>="<span class="hljs-title">message</span>-<span class="hljs-title">email</span>"&gt;üìß &lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">message</span>['<span class="hljs-title">email</span>']); ?&gt;&lt;/<span class="hljs-title">p</span>&gt;
                            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">message</span>-<span class="hljs-title">content</span>"&gt;
                                &lt;<span class="hljs-title">p</span>&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">nl2br</span>(<span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">message</span>['<span class="hljs-title">message</span>'])); ?&gt;&lt;/<span class="hljs-title">p</span>&gt;
                            &lt;/<span class="hljs-title">div</span>&gt;
                        &lt;/<span class="hljs-title">div</span>&gt;
                    &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endforeach</span>; ?&gt;
                &lt;/<span class="hljs-title">div</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;
        &lt;/<span class="hljs-title">main</span>&gt;
    &lt;/<span class="hljs-title">div</span>&gt;
&lt;/<span class="hljs-title">body</span>&gt;
&lt;/<span class="hljs-title">html</span>&gt;
</span></div></code></pre>
<h2 id="%F0%9F%93%84-stylecss">üìÑ style.css</h2>
<p>Denna fil inneh√•ller enkel och ren styling f√∂r webbapplikationen, inklusive layout, f√§rger, knappar, formul√§r och responsiv design f√∂r b√§ttre anv√§ndarupplevelse p√• olika enheter.</p>
<pre class="hljs"><code><div><span class="hljs-comment">/* üåê Modern CSS for Contact Webapp - CI/CD Pipeline Ready */</span>

<span class="hljs-comment">/* Reset &amp; Base Styles */</span>
* {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">box-sizing</span>: border-box;
}

<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Segoe UI'</span>, Tahoma, Geneva, Verdana, sans-serif;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f7fa</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.6</span>;
}

<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">900px</span>;
  <span class="hljs-attribute">margin</span>: auto;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">12px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.08</span>);
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
}

<span class="hljs-comment">/* Header */</span>
<span class="hljs-selector-tag">header</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">1.5rem</span>;
}

<span class="hljs-selector-tag">header</span> <span class="hljs-selector-tag">h1</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2.5rem</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0.5rem</span>;
}

<span class="hljs-selector-tag">header</span> <span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#7f8c8d</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.1rem</span>;
}

<span class="hljs-comment">/* Navigation */</span>
<span class="hljs-selector-tag">nav</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2rem</span>;
}

<span class="hljs-selector-class">.btn</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.6rem</span> <span class="hljs-number">1.2rem</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0.3rem</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">text-decoration</span>: none;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">cursor</span>: pointer;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#3498db</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.3s</span> ease;
}

<span class="hljs-selector-class">.btn</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#2980b9</span>;
}

<span class="hljs-selector-class">.btn</span><span class="hljs-selector-class">.active</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#2c3e50</span>;
}

<span class="hljs-selector-class">.btn</span><span class="hljs-selector-class">.submit-btn</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#27ae60</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">1rem</span>;
}

<span class="hljs-selector-class">.btn</span><span class="hljs-selector-class">.submit-btn</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#219150</span>;
}

<span class="hljs-comment">/* Main Content */</span>
<span class="hljs-selector-tag">main</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2rem</span>;
}

<span class="hljs-comment">/* Features Section */</span>
<span class="hljs-selector-class">.features</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ecf0f1</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1.5rem</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">1.5rem</span>;
}

<span class="hljs-selector-class">.features</span> <span class="hljs-selector-tag">h3</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0.75rem</span>;
}

<span class="hljs-selector-class">.features</span> <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">list-style</span>: none;
  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-class">.features</span> <span class="hljs-selector-tag">li</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">1.5rem</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0.5rem</span>;
}

<span class="hljs-selector-class">.features</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">::before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"‚úì"</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#27ae60</span>;
  <span class="hljs-attribute">font-weight</span>: bold;
}

<span class="hljs-comment">/* Contact Form */</span>
<span class="hljs-selector-class">.contact-form</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f9fa</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#dee2e6</span>;
}

<span class="hljs-selector-class">.form-group</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">1.5rem</span>;
}

<span class="hljs-selector-class">.form-group</span> <span class="hljs-selector-tag">label</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0.5rem</span>;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
}

<span class="hljs-selector-class">.form-group</span> <span class="hljs-selector-tag">input</span>,
<span class="hljs-selector-class">.form-group</span> <span class="hljs-selector-tag">textarea</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.75rem</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ced4da</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">transition</span>: border-color <span class="hljs-number">0.2s</span> ease;
}

<span class="hljs-selector-class">.form-group</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span>,
<span class="hljs-selector-class">.form-group</span> <span class="hljs-selector-tag">textarea</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#3498db</span>;
  <span class="hljs-attribute">outline</span>: none;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">52</span>, <span class="hljs-number">152</span>, <span class="hljs-number">219</span>, <span class="hljs-number">0.3</span>);
}

<span class="hljs-comment">/* System Messages */</span>
<span class="hljs-selector-class">.success-message</span>,
<span class="hljs-selector-class">.error-message</span>,
<span class="hljs-selector-class">.info-message</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">1.5rem</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
}

<span class="hljs-selector-class">.success-message</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d4edda</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#155724</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#c3e6cb</span>;
}

<span class="hljs-selector-class">.error-message</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8d7da</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#721c24</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#f5c6cb</span>;
}

<span class="hljs-selector-class">.info-message</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d1ecf1</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0c5460</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#bee5eb</span>;
}

<span class="hljs-selector-class">.actions</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">1.5rem</span>;
}

<span class="hljs-comment">/* Message List */</span>
<span class="hljs-selector-class">.messages-count</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e8f4fd</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.75rem</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">1.5rem</span>;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
}

<span class="hljs-selector-class">.messages-list</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">1.25rem</span>;
}

<span class="hljs-selector-class">.message-item</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f9fa</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e9ecef</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1.25rem</span>;
}

<span class="hljs-selector-class">.message-header</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: space-between;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0.75rem</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">0.5rem</span>;
}

<span class="hljs-selector-class">.message-header</span> <span class="hljs-selector-tag">h3</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2rem</span>;
}

<span class="hljs-selector-class">.message-date</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#7f8c8d</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
}

<span class="hljs-selector-class">.message-email</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#3498db</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0.5rem</span>;
}

<span class="hljs-selector-class">.message-content</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#555</span>;
}

<span class="hljs-selector-class">.message-content</span> <span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-comment">/* Responsive Design */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width:</span> <span class="hljs-number">600px</span>) {
  <span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span>;
  }

  <span class="hljs-selector-class">.message-header</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">align-items</span>: flex-start;
  }

  <span class="hljs-selector-class">.message-date</span> {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0.5rem</span>;
  }

  <span class="hljs-selector-class">.btn</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5rem</span> <span class="hljs-number">1rem</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
  }
}
</div></code></pre>
<h2 id="%F0%9F%93%84-reverse-proxy-konfiguration">üìÑ Reverse Proxy-konfiguration</h2>
<p><strong>/etc/nginx/sites-available/default</strong> √§r Nginx-konfigurationsfilen som anv√§nds f√∂r att st√§lla in reverse proxy p√• din server. Den definierar hur inkommande HTTP-f√∂rfr√•gningar tas emot och vidarebefordras till backend-applikationer eller servrar, vilket g√∂r att Nginx agerar som en mellanhand som hanterar trafik och s√§kerst√§ller smidig kommunikation mellan klient och applikation.</p>
<pre class="hljs"><code><div>server {
  server_name wavvy.se www.wavvy.se;  <span class="hljs-comment"># &lt;-- S√§tt din dom√§n h√§r</span>

  location / {
    proxy_pass         http://10.0.1.4:80/;
    proxy_http_version 1.1;

    proxy_set_header   Upgrade <span class="hljs-variable">$http_upgrade</span>;
    proxy_set_header   Connection <span class="hljs-string">"upgrade"</span>;
    proxy_set_header   Host <span class="hljs-variable">$host</span>;
    proxy_cache_bypass <span class="hljs-variable">$http_upgrade</span>;

    proxy_set_header   X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;
    proxy_set_header   X-Forwarded-Proto <span class="hljs-variable">$scheme</span>;
  }

    listen 443 ssl; <span class="hljs-comment"># managed by Certbot</span>
    ssl_certificate /etc/letsencrypt/live/wavvy.se/fullchain.pem; <span class="hljs-comment"># managed by Certbot</span>
    ssl_certificate_key /etc/letsencrypt/live/wavvy.se/privkey.pem; <span class="hljs-comment"># managed by Certbot</span>
    include /etc/letsencrypt/options-ssl-nginx.conf; <span class="hljs-comment"># managed by Certbot</span>
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; <span class="hljs-comment"># managed by Certbot</span>

}

server {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$host</span> = wavvy.se) {
        <span class="hljs-built_in">return</span> 301 https://<span class="hljs-variable">$host</span><span class="hljs-variable">$request_uri</span>;
    } <span class="hljs-comment"># managed by Certbot</span>


  listen 80 default_server;
  server_name wavvy.se www.wavvy.se;
    <span class="hljs-built_in">return</span> 404; <span class="hljs-comment"># managed by Certbot</span>


}
</div></code></pre>

</body>

</html>